\section{CodeSnippets}

Das Plugin CodeSnippets ermöglicht es Textbausteine und Verknüpfungen auf Dateien in einer Baumansicht nach Kategorien zu strukturieren. Die Bausteine dienen dazu, häufig verwendete Dateien oder Konstrukte in Textbausteine abzulegen und zentral zu verwalten. Stellen Sie sich vor eine Reihe von häufig verwendeten Quelldateien sind im Dateisystem in unterschiedlichen Ordnern abgelegt. Im Fenster CodeSnippets können Sie nun Kategorien und darunter Verknüpfungen auf die gewünschten Dateien erstellen. Damit können Sie den Zugriff auf die Dateien unabhängig von der Ablage im Dateisystem verwalten und ohne das Dateisystem zu durchsuchen schnell zwischen diesen Dateien navigieren.

Die Liste der Textbausteine und Verknüpfungen können im CodeSnippets Fenster mit der rechten Maustaste über das Kontextmenü \samp{Save Index} gespeichert werden. Die dabei erzeugte Datei \file{codesnippets.xml} befindet sich anschließend in Ihren \file{Dokumente und Einstellungen\osp Anwendungsdaten} im Ordner \file{codeblocks}. Unter Linux wird diese Information im HOME-Verzeichnis im Ordner  \file{.codeblocks} abgelegt. Die Konfigurationsdateien von \codeblocks werden beim nächsten Start geladen. Falls Sie den Inhalt von CodeSnippets an einen anderen Ort speichern möchten, selektieren Sie den Eintrag \samp{Save Index As}. Zum Laden dieser Datei wählen Sie beim nächsten Start von \codeblocks \samp{Load Index File} oder stellen das Verzeichnis in dem Kontextmenü \samp{Settings} unter \samp{Snippet Folder} ein. Diese Einstellungen werden in der zugehörigen Datei \file{codesnippets.ini} in den Anwendungsdaten hinterlegt.

Das Einfügen einer Kategorie geschieht über das Menü \samp{Add SubCategory}. In einer Kategorie können Snippets (Textbausteine) oder File Links (Verknüpfungen) liegen. Ein Textbaustein wird mit dem Kontextmenü über \samp{Add Snippet} angelegt. Indem Sie einen Text im \codeblocks Editor markieren und anschließend bei gedrückter linker Maustaste per Drag and Drop auf den Textbaustein ziehen, wird der Inhalt in den Textbaustein eingefügt. Wenn Sie einen selektierten Text auf eine Kategorie ziehen wird in diesem Ordner automatisch ein Textbaustein mit dem Namen \samp{New snippet} erzeugt und es öffnet sich der Properties Dialog. Durch einen Doppelklick auf den neu eingefügten Eintrag oder durch Auswahl von \samp{Edit Text} öffnet sich ein eigenständiger Editor zum Bearbeiten des Inhaltes.

\screenshot{edit_snippet}{Bearbeiten eines Textbausteins}

Die Ausgabe eines Textbausteines in \codeblocks erfolgt über das Kontextmenü \samp{Apply} oder durch Drag und Drop in den Editor. Die Inhalte eines Snippets können auch in andere Anwendungen gezogen werden.

Textbausteine sind darüberhinaus auch über Variablen \var{name}, die über \codeline{$(name)} zugegriffen werden, parametrisierbar (siehe \pxref{fig:edit_snippet}). Die Abfrage für die Werte der Variablen erfolgt über ein Eingabefeld, wenn der Textbaustein mit dem Kontextmenü \samp{Apply} aufgerufen wird.

Neben den Textbausteinen können auch Verknüpfungen auf Dateien angelegt werden. Wenn Sie zuvor einen Textbaustein angelegt haben und anschließend das Kontextmenü \samp{Properties} auswählen, selektieren Sie mit der Schaltfläche \samp{Link target} das Ziel der Verknüpfung. Eine Verknüpfung kann auch über das Kontextmenü \samp{Convert to FileLink} erzeugt werden. Dieser Schritt wandelt den Textbaustein automatisch in eine Verknüpfung auf eine Datei um. In CodeSnippets werden Textbausteine mit einem T-Symbol und Verknüpfungen auf eine Datei mit einen F-Symbol gekennzeichnet. Falls Sie die in Codesnippets markierte Datei (Verknüpfung) öffnen möchten selektieren Sie im Kontextmenü \menu{Open File} oder halten Sie die \samp{Alt} Taste gedrückt und machen ein Doppelklick auf die Datei.

\hint{In Textbausteine können auch Urls angegeben werden z.B. http://www.codeblocks.org. Die Url wird über das Kontextmenü \menu{Open Url} in Ihrem gewohnten Browser geöffnet.}
%\hint{Wenn Sie für die Dateizuordnung (File extension handling) die Einstellung \samp{open it with the associated application} unter \menu{Settings,Environment} vorgenommen haben, wir die von Windows zugeordnete Anwendungen für Dateiendungen verwendet (siehe \pxref{sec:file_extension}).}

Falls Sie diese Einstellung vorgenommen haben, dann wird wenn Sie z.B. einen Verknüpfung auf eine pdf-Datei aus der Codesnippets Ansicht öffnen automatisch ein pdf-Viewer gestartet. Dieses Vorgehen ermöglicht dem Benutzer Dateien, die über das Netzwerk verteilt liegen, wie z.B. Schaltpläne, Dokumentation etc. als Verknüpfung einfach über die gewohnten Anwendungen zuzugreifen. Der Inhalt der Codesnippets wird in der Datei \file{codesnippets.xml} und die Konfiguration in der Datei \file{codesnippets.ini} in Ihren Anwendungsdaten gespeichert. In dieser ini Datei wird z.B. der Ablageort der Datei \file{codesnippets.xml} hinterlegt.

\codeblocks unterstützt die Verwendung von unterschiedlichen Profilen. Diese werden als personalities bezeichnet. Das Anlegen eines Profils geschieht indem \codeblocks mit der Kommandozeilen Option \opt{--personality=\var{profile}} gestartet wird. Die Einstellungen werden dann statt in \file{default.conf} in der Datei \file{\var{personality}.conf} in den Anwendungsdaten gespeichert. Das Plugin Codesnippets speichert seine Einstellungen dann in der Datei \file{\var{personality}.codesnippets.ini}. Wenn nun Sie in den Settings von Codesnippets über \samp{Load Index File} einen neuen Inhalt \file{\var{name.xml}} laden, wird dies in der zugehörigen ini Datei hinterlegt. Der Vorteil von dieser Vorgehensweise ist, dass Sie zu unterschiedlichen Profilen auch unterschiedliche Konfigurationen für Textbausteine und Verknüpfungen verwalten können.

Für das Navigieren zwischen den Kategorien und Snippets bietet das Plugin eine zusätzliche Suchfunktion. Hierbei lässt sich auch der Gültigkeitsbereich (Scope) für die Suche auf Snippets, Categories oder Snippets and Categories einstellen. Durch Eingabe des gewünschten Suchbegriffes wird automatisch der zugehörige Eintrag in der Ansicht ausgewählt. Die \pxref{fig:codesnippets} zeigt eine typische Ansicht im CodeSnippets Fenster.

\figures[hbt!][width=.4\columnwidth]{codesnippets}{Ansicht von CodeSnippets}
\hint{Bei Verwendung von umfangreichen Textbausteine sollte deren Inhalt über \samp{Convert to File Link} in Dateien ausgelagert werden, um die Speicherauslastung im System zu reduzieren. Beim Löschen von Textbausteine und Verknüpfungen werden diese in den Ordner \file{.trash} verschoben bzw. bei gedrückter Shift-Taste direkt gelöscht.}
