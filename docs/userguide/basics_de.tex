\chapter{\codeblocks Projektverwaltung}

Die Dokumentation für \pxref{sec:variables_types} und \pxref{sec:build_codeblocks} sind offizielle Dokumentationen der \codeblocks Wiki-Seite und nur in englischer Sprache verfügbar.

Die nachfolgende Abbildung zeigt den Aufbau der \codeblocks Oberfläche.

\figures[H][width=\columnwidth]{codeblocks}{IDE \codeblocks}

\begin{description}
\item[Management] Diese Fenster enthält die Ansicht \menu{Projects}, im nachfolgenden als Projektansicht bezeichnet. In dieser werden die in \codeblocks aktuell geöffneten Projekte angezeigt. In dem Management Fenster erhält man im Reiter \samp{Symbols} die Anzeige von Symbolen, Variablen etc.
\item[Editor] In der obigen Abbildung ist eine Quelle \file{hello.c} mit Syntaxhighlighting im Editor geöffnet.
\item[Open files list] Zeigt die Liste der im Editor geöffneten Dateien an, hier \file{hello.c}.
\item[CodeSnippets] Lässt sich über das Menü \menu{View,CodeSnippets} anzeigen. Hier können Textbausteine, Verknüpfungen auf Dateien und Urls verwaltet werden.
\item[Logs \& others] Fenster zur Ausgabe von Suchergebnisse, Logmeldung eines Compilers etc.
\end{description}

Die Statusbar gibt einen Überblick der folgenden Einstellungen:

\begin{itemize}
\item Vollständiger Pfad einer im Editor angezeigten Datei.
\item Im Editor wird das vom Betriebssystem standardmäßig verwendete Character Encoding übernommen und mit der Einstellung \codeline{default} angezeigt.
\item Aktuelle Zeilen- und Spaltnummer der Cursorposition im Editor.
\item Über die Tastatur eingestellte Modus für das Einfügen von Text (Insert oder Overwrite).
\item Aktuelle Status einer Datei. Für eine geänderte Datei steht der Eintrag auf \codeline{Modified} ansonsten ist dieser Eintrag leer.
\item Die für eine Datei eingestellte Berechtigung. Eine schreibgeschützte Datei wird als \codeline{Read only} in der Statusbar gekennzeichnet. Im Fenster \menu{Open files list} werden solche mit einem Schloss als Icon Overlay markiert.
\item Falls \codeblocks mit der Kommandozeileoption \opt{--personality=\var{profile}} gestartet wird, steht in der Statusbar das aktuell verwendete Profil, ansonsten wird hier \codeline{default} angezeigt. Die Einstellungen von \codeblocks werden in der gleichnamigen Konfigurationsdatei \file{\var{personality}.conf} gespeichert.
\end{itemize}

\codeblocks bietet eine sehr flexible und umfassende Projektverwaltung. Der folgende Text geht nur auf einige Besonderheiten der Projektverwaltung ein.

\section{Projektansicht}\label{sec:categories}

In \codeblocks werden Quellen und die Einstellungen für den Builtprozess in einer Projektdatei \file{\var{name}.cbp} gespeichert. Ein Projekt besteht typischerweise aus C/C++ Quellen und zugehörige Header Dateien. Ein neues Projekt legen Sie am einfachsten an, indem Sie das Menü \menu{File,Project} ausführen und einen Wizard auswählen. Anschließend können Sie im Management Fenster über das Kontextmenü \menu{Add files} Dateien zum Projekt hinzufügen. In \codeblocks werden die Projektdateien abhängig von ihrer Dateiendung in Kategorien verwalten. Die voreingestellen Kategorien sind für

\begin{description}
\item[Sources] Unter der Kategorie \file{Sources} werden Quellen z.B. mit den Endungen \file{*.c;*.cpp;} aufgelistet.
\item[ASM Sources] Unter der Kategorie \file{ASM Sources} werden Quellen z.B. mit den Endungen \file{*.s;*.S;*.ss;*.asm} aufgelistet.
\item[Headers] Unter der Kategorie \file{Headers} werden Dateien z.B. mit den Endungen \file{*.h;} angezeigt.
\item[Resources] Unter der Kategorie \file{Resources} werden z.B. Dateien \file{*.res;*.xrc;} für die Beschreibung von Layout von wxWidgets Fenster gelistet. Für die Anzeigen dieser Dateitypen dient im Manangement Fenster der Reiter \samp{Resources}.
\end{description}

Die Einstellungen für Typen und Kategorien von Dateien können über das Kontextmenü \menu{Project tree,Edit file types \& categories} angepasst werden. Dabei können auch eigene Kategorien für Dateiendungen angelegt werden. Wenn Sie z.B. Linkerskripte mit der Endung \file{*.ld} unter der Kategorie \file{Linkerscript} anzeigen möchten, legen Sie einfach eine neue Kategorie an.

\hint{Wenn Sie im Kontextmenü \menu{Project tree,Categorize by file types} deaktivieren, wird die Anzeige in Kategorien aufgehoben und die Dateien erscheinen wie sie im Dateisystem abgelegt sind.}

\section{Notizen für Projekte}

In \codeblocks können zu Projekten sogenannte Notes hinterlegt werden. Diese sollten eine Kurzbeschreibung oder Hinweise für das jeweilige Projekt enthalten. Durch Anzeige dieser Information beim Öffnen des Projektes bekommen andere Bearbeiter einen schnellen Überblick. Die Anzeige von Notes kann bei den Properties eines Projektes im Reiter Notes aktiviert bzw. deaktiviert werden.

\section{Projektvorlagen}

\codeblocks wird mit einer Vielzahl von Projektvorlagen ausgeliefert, die beim Anlegen eines neuen Projektes angezeigt werden. Es ist aber auch möglich, eigene Vorlagen zu speichern und somit eigene Vorgaben für Compilerschalter, wie zu verwendete Optimierung, maschinenspezifische Schalter etc. in Vorlagen zusammenzufassen. Diese werden im Verzeichnis \file{Dokumente und Einstellungen\osp \var{user}\osp Anwendungsdaten\osp codeblocks\osp UserTemplates} abgelegt. Wenn die Vorlagen für alle Benutzer zugänglich sein sollen, müssen die Vorlagen in zugehöriges Verzeichnis der \codeblocks Installation kopiert werden. Diese Vorlagen erscheinen dann beim nächsten Start von \codeblocks unter \menu{New, Project,User templates}.

\hint{Die verfügbaren Vorlagen im Project Wizard können durch Auswahl mit der rechten Maustaste bearbeitet werden.}

\section{Projekte aus Build Targets erstellen}

In Projekten ist es notwendig unterschiedliche Varianten eines Projektes vorzuhalten. Varianten werden als Build Target bezeichnet. Diese unterscheiden sich in der Regel durch unterschiedliche Compileroptionen, Debug-Information und Auswahl von Dateien. Ein Build Target kann auch in ein eigenständiges Projekt ausgelagert werden, dafür selektieren Sie in \menu{Project,Properties} den Reiter \samp{Build Targets} die Variante und wählen Sie Schaltfläche \samp{Create project from target} (siehe \pxref{fig:build_targets}).

\screenshot{build_targets}{Build Targets}

\section{Virtual Targets}

Mit sogenannten Virtual Targets können Projekte in \codeblocks weiter strukturiert werden. Eine häufige Projektstruktur besteht aus zwei Build Targets. Einem Target \menu{Debug} mit Debuginformation und einem anderen Target \samp{Release} ohne diese Information. Durch Hinzufügen von Virtual Targets unter \menu{Project,Properties,Build Targets} können einzelne Build Targets zusammengefasst werden. So kann zum Beispiel ein Virtual Target \samp{All} die Targets Debug und Release gleichzeitig erzeugen. Die Virtual Targets werden auch in der Symbolleiste des Compilers unter Build Targets angezeigt.

\section{Pre- und Postbuild Schritte}\label{sec:pre_postbuild}

\codeblocks ermöglicht es, weitere Arbeitschritte vor oder nach der Compilierung eines Projektes durchzuführen. Die Arbeitsschritte werden als Prebuilt bzw. Postbuilt Step bezeichnet. Typische Postbuilt Steps sind:

\begin{itemize}
\item Erzeugung eines Intel Hexformats aus einem fertigen Objekt
\item Manipulation von Objekten mit \cmdline{objcopy}
\item Generierung von Dumpdateien mit \cmdline{objdump}
\end{itemize}

\genterm{Beispiel}

Erzeugung einer Disassembly aus einem Objekt unter Windows. Die Umlenkung in eine Datei erfordert den Aufruf der \cmdline{cmd} mit der Option \opt{/c}.

\begin{cmd}
cmd /c objdump -D name.elf > name.dis
\end{cmd}

Ein weiteres Beispiel für ein Postbuilt Step kann die Archivierung eines Projektes sein. Hierzu erstellen Sie ein Build Target \samp{Archive} und tragen im Postbuilt Step folgende Anweisung ein

\begin{cmd}
zip -j9 $(PROJECT_NAME)_$(TODAY).zip src h obj $(PROJECT_NAME).cbp
\end{cmd}

Mit diesem Befehl wird das aktive Projekt und seine Quellen, Header und Objekte als Zip-Datei gepackt. Dabei werden über die Built-in Variablen \codeline{$(PROJECT_NAME)} und \codeline{$(TODAY)}, der Projektname und das aktuelle Datum extrahiert (siehe \pxref{sec:builtin_variables}). Im Verzeichnis des Projektes liegt dann nach Ausführen des Targets \samp{Archive} die gepackte Datei.

In dem Verzeichnis \file{share/codeblocks/scripts} finden Sie einige Beispiele für Skripte. Ein Skript kann über das Menü \menu{Settings,Scripting} hinzugefügt und in ein Menü eingetragen werden. Wenn Sie ein Skript z.B. \file{make\_dist} über ein Menü ausführen, werden alle Dateien, die zum einem aktiven Projekt gehören in ein Archiv \file{\var{project}.tar.gz} komprimiert.

\section{Hinzufügen von Scripts in Build Targets}

\codeblocks bieten die Möglichkeit, Aktionen die vom Benutzer in Menüs ausgeführt werden, auch in Skripten zu verwenden. Mit dem Skript entsteht somit ein zusätzlicher Freiheitsgrad um die Generierung Ihres Projektes zu steuern.

\hint{Ein Skript kann auch bei einem Build Target angegeben werden.}

\section{Workspace und Project Dependencies}

In \codeblocks können Sie mehrere Projekte geöffnet halten. Durch speichern der geöffneten Projekte über \menu{File,Save workspace} werden diese in einem Arbeitsbereich unter \file{\var{name}.workspace} zusammengefasst. Wenn Sie beim nächsten Start von \codeblocks den Arbeitsbereich \file{\var{name}.workspace} öffnen erscheinen wieder alle Projekte.

Komplexe Softwaresysteme bestehen aus Komponenten, die in unterschiedlichen \codeblocks Projekten verwaltet werden. Des weiteren existieren bei der Generierung von solchen Softwaresystemen oftmals Abhängigkeiten zwischen diesen Projekten.

\genterm{Beispiel}

Ein Projekt A enthält zentrale Funktionen, die auch anderen Projekten in Form einer Bibliothek zugänglich gemacht werden. Wenn nun die Quellen der zentralen Funktionen geändert werden, muss die Bibliothek neu erzeugt werden. Damit die Konsistenz zwischen einem Projekt B, das die Funktionen verwendet und dem Projekt A, das die Funktionen implementiert, gewahrt bleibt, muss Projekt B von Projekt A abhängen. Die Information für die Abhängigkeit von Projekten wird im jeweiligen Workspace gespeichert, damit jedes Projekt weiterhin einzeln erzeugt werden kann. Durch die Verwendung von Abhängigkeiten kann auch die Reihenfolge bei der Generierung von Projekten gesteuert werden. Die Abhängigkeiten für Projekte werden über den Menüeintrag \menu{Project,Properties} und Auswahl der Schaltfläche \samp{Project's dependencies} gesetzt.

\section{Einbinden von Assembler Dateien}

In der Projektansicht (Project View) im Fenter Management werden Assembler Dateien im Kategorie \file{ASM Sources} aufgeführt. Die Anzeige von Dateien und Kategorien kann vom Benutzer festgelegt werden (siehe \pxref{sec:categories}). Durch einen Rechtsklick einer der gelisteten Assembler Dateien erhält man ein Kontextmenü. Darin öffnet der Befehl \menu{Properties} ein neues Fenster. Klicken Sie darin auf den Reiter \samp{Build} und aktivieren Sie die beiden Felder \samp{Compile file} und \samp{Link file}. Wechseln Sie nun auf den Reiter \samp{Advanced} und führen Sie folgende Schritte durch:

\begin{enumerate}
\item \samp{Compiler variable} auf CC setzen
\item Den Compiler unter \samp{For this compiler} auswählen
\item \samp{Use custom command to build this file} anwählen
\item Inhalt im Fenster eingeben:
\begin{code}
$compiler $options $includes <asopts> -c $file -o $object
\end{code}
\end{enumerate}

Dabei sind die \codeblocks Variablen durch \codeline{$} gekennzeichnet (siehe \pxref{sec:command_macros}). Diese werden automatisch ersetzt, so dass Sie lediglich die Assembleroption \var{asopt} durch Ihre Einstellungen ersetzen brauchen.

\section{Editor und Hilfsmittel}

\subsection{Default Code}

Durch vorgegebene Coding Rules im Unternehmen müssen Quelldateien einen einheitlichen Aufbau vorweisen. \codeblocks bietet die Möglichkeit, beim Anlegen von neuen C/C++ Quellen und Header einen vorgegebenen Inhalt am Anfang einer Datei automatisiert einzufügen. Die vorgebene Inhalt wird als Default Code bezeichnet. Die Einstellung hierfür kann unter \menu{Stettings,Editor} Default Code vorgenommen werden. Eine neue Datei erzeugen Sie über das Menü \menu{File,New,File}.

\genterm{Beispiel}

\begin{code}
/*************************************************************************
 *  Project:
 *  Function:
 *************************************************************************
 *  $Author: mario $
 *  $Name:  $
 *************************************************************************
 *
 *  Copyright 2007 by company name
 *
 ************************************************************************/
\end{code}

\subsection{Abbreviation}\label{sec:abbreviation}

Durch Definition von Abkürzung in \codeblocks kann einiges an Schreibarbeit und Zeit gespart werden. Hierzu werden in \menu{Settings,Editor} sogenannte Abbreviations unter dem Namen \var{name} angelegt, die über das Tastenkürzel Ctrl-J aufgerufen werden (siehe \pxref{fig:abbreviation}).

\screenshot{abbreviation}{Definition von Abkürzungen}

Durch Einfügen von Variablen \codeline{$(NAME}) in den Abkürzungen ist auch eine Parametrisierung möglich.

\begin{code}
#ifndef $(Guard token)
#define $(Guard token)
#endif // $(Guard token)
\end{code}

Bei Aufruf der Abkürzung \var{name} im Quelltext und Ausführen von Ctrl-J, wird der Inhalt der Variablen abgefragt und eingefügt.

%Inherit Class
%Im Editor kann durch Auswahl von Inherit Class über die rechte Maustaste.

\subsection{Personalities}\label{sec:personalities}

\codeblocks Einstellungen werden als Anwendungsdaten im Verzeichnis \file{codeblocks} in einer Datei \file{\var{user}.conf} gespeichert. Diese Konfigurationsdatei enthält Informationen wie beispielsweise zuletzt geöffnete Projekte, Einstellungen für Editor, Anzeige von Symbolleisten etc. Standardmäßig ist die Personality \samp{default} eingestellt, so dass die Konfiguration in der Datei \file{default.conf} abgelegt ist. Wenn \codeblocks mit dem Parameter \cmdline{--personality=myuser} in der Kommandozeile aufgerufen wird, werden die Einstellungen in der Datei \file{myuser.conf} gespeichert. Falls das Profil nicht bereits existiert, wird es automatisch angelegt. Durch diese Vorgehensweise können für unterschiedliche durchzuführende Arbeitsschritte auch zugehörige Profile gespeichert werden. Wenn Sie \codeblocks mit dem zusätzlichen Parameter \cmdline{--personality=ask} starten erscheint ein Auswahldialog für die verfügbaren Profile.

\hint{Der Name des aktuell verwendeten Profils/Personality wird rechts in der Statusbar angezeigt.}

\subsection{Konfigurationsdateien}

Die Einstellungen für \codeblocks werden im Profil \file{default.conf} im Ordner \file{codeblocks} in Ihren Anwendungsdaten gespeichert. Bei Verwendung von personalities (siehe \pxref{sec:personalities} werden die Konfiguration in der Datei \file{\var{personality}.conf} abgelegt.

Mit dem Werkzeug \cmdline{cb\_share\_conf}, aus dem \codeblocks Installationsverzeichnis, können diese Einstellungen verwaltet und gesichert werden.

Falls Sie Standardeinstellung für mehrere Benutzer eines PCs vorgeben möchten, muss die Konfigurationsdatei \file{default.conf} im Ordner \file{\osp Dokumente und Einstellungen\osp Default User\osp Anwendungsdaten\osp codeblocks} abgelegt sein. Beim ersten Start von \codeblocks werden die Voreinstellungen aus \samp{Default User} in die Anwendungsdaten der aktuellen Benutzers kopiert.

Zur Erzeugung einer portablen Version von \codeblocks auf einem USB-Stick gehen Sie wie folgt vor. Kopieren Sie die \codeblocks Installation auf einen USB-Stick und legen Sie die Konfigurationsdatei \file{default.conf} in dieses Verzeichnis. Die Konfiguration wird als globale Einstellung verwendet. Bitte achten Sie darauf, dass die Datei schreibbar sein muss, damit Änderungen in der Konfiguration auch gespeichert werden können.

\subsection{Navigieren und Suchen}

In \codeblocks existieren unterschiedliche Möglichkeiten zum schnellen Navigieren zwischen Dateien und Funktionen. Eine typische Vorgehensweise ist das Setzen von Lesezeichen (Bookmarks). Durch Betätigen des Tastenkürzel (Ctrl-B) wird ein Lesezeichen in einer Quelldatei gesetzt bzw. gelöscht. Mit (Alt-PgUp) wird zum vorherigen Lesezeichen gesprungen und mit (Alt-PgDn) zum nächsten gewechselt.

\hint{In der Projektansicht können Sie durch Auswählen eines Projektes oder im gesamten Workspace über das Kontextmenü \menu{Find file} in einem Dialog einen Dateinamen angeben. Dieser wird anschließend in der Projektansicht markiert und durch Eingabe mit Return im Editor geöffnet (siehe \pxref{fig:project_find_file}).}

\screenshot[][width=.5\columnwidth]{project_find_file}{Suche nach Dateien}

Für das schnelle Navigieren zwischen Header/Quelle Dateien bietet \codeblocks folgende Möglichkeiten

\begin{enumerate}
\item Cursor auf Zeile setzen wo Header includiert wird und über Kontextmenü \menu{open include file} öffnen (siehe \pxref{fig:open_header})
\item Umschalten zwischen Quelle und Header über Kontextmenü \menu{Swap header/source}
\item Markieren eines Begriffes z.B. eines Defines in einer Datei und Aufruf des Kontextmenü \menu{Find declaration}
\end{enumerate}

\screenshot{open_header}{Öffnen einer Header Datei}

\codeblocks bietet verschiedene Möglichkeiten für die Suche in einer Datei oder in Verzeichnissen. Mit dem \menu{Search,Find} (Ctrl-F) oder \menu{Find in Files} (Ctrl-Shift-F) öffnet sich der Dialog für die Suche.

Eine weitere komfortable Funktion bietet das Tastenkürzel Ctrl-G und Ctrl-Alt-G. Der sich öffnende Dialog erlaubt die Auswahl von Dateien/Funktionen und springt anschließend an die Implementierung der Funktion (siehe \pxref{fig:select_function}) bzw. öffnete die ausgewählte Datei. Als Eingabe werden auf Wildcards \codeline{*} oder \codeline{?} etc. für eine inkrementelle Suche unterstützt.

\screenshot[][width=.5\columnwidth]{select_function}{Suche nach Funktionen}

\hint{Mit dem Tastenkürzel Ctrl-PAGEUP springen Sie an die vorherige Funktion und mit Ctrl-PAGEDOWN zur nächsten Funktion.}

Wenn Sie sich im Editor Fenster befinden, können Sie mit Ctrl-Tab zwischen den Reiter von geöffneten Dateien springen. Durch setzen der Einstellung \samp{Use Smart Tab-switching scheme} in \menu{Settings,Notebook appearance} erhalten Sie nun über Ctrl-Tab ein zusätzliches Open Tabs Fenster im Editor (siehe \pxref{fig:tab_scheme}). Dabei wird die Liste in der Reihenfolge der geöffneten Dateien gezeigt. Sie können die Tastenkombination Ctrl-Tab auch im Management Fenster verwenden, um in zwischen den Reitern zu wechseln.

\screenshot{tab_scheme}{Einstellungen für Wechseln zwischen Reitern}

Eine häufige Arbeitsweise bei der Entwicklung von Software ist jedoch, dass man sich durch ein Satz von Funktion hangelt, die in unterschiedlichen Dateien implementiert sind. Durch das Plugin BrowseTracks zeigt mit dem Fenster \samp{Browsed Tabs} eine Liste in der Reihenfolge wie Dateien selektiert wurden. Somit können Sie komfortabel zwischen den Aufrufen navigieren.

In \codeblocks aktivieren Sie die Anzeige von Zeilennummern in \menu{Settings,General Settings} im Feld \samp{Show line numbers}. Mit dem Tastenkürzel Ctrl-G oder über das Menü \menu{Search,Goto line} springen Sie an die gewünschte Zeile.

\subsection{Symbolansicht}

Für das Navigieren über Funktionen oder Variablen bietet das Management Fenster in \codeblocks eine Baumansicht für Symbole von C/C++ Quellen. Dabei lässt sicht der Gültigkeitsbereich (Scope) der Ansicht auf die aktuelle Datei oder Projekt oder den gesamten Arbeitsbereich einstellen. Für die Kategorien der Symbole existieren folgende Kategorien.

\screenshot{symbols}{Symbolansicht}

\begin{description}
\item[Global functions] Listet die Implementierung von globalen Funktionen.
\item[Global typedefs] Listet die Verwendung von \codeline{typedef} Definitionen.
\item[Global variables] Zeigt die Symbole von globalen Variablen an.
\item[Preprocessor symbols] Auflistung der mit \codeline{#define} erzeugten Präprozessor Direktiven.
\end{description}

Strukturen und Klassen werden unterhalb von Preprocessor symbols angezeigt. Wenn eine Kategorie mit der Maus angewählt wird, erscheinen die gefundenen Symbole in dem unteren Teil des Fensters (siehe \pxref{fig:symbols}). Ein Doppelklick auf das Symbol öffnet die Datei, wo das Symbol definiert bzw. die Funktion implementiert ist und springt an die zugehörige Zeile.

\hint{Im Editor können Sie über das Kontextmenü \menu{Insert Class method declaration implementation} bzw. \menu{All class methods without implementation} sich auch die Liste der Klassen anzeigen lassen.}
%split view horizontally, vertically

\subsection{Einbinden von externen Hilfen}

Die Entwicklungsumgebung \codeblocks unterstützt das Einbinden von externen Hilfen über das Menü \menu{Settings,Environment}. Fügen Sie ein Manual Ihrer Wahl im chm Format in \menu{Help Files} hinzu und wählen Sie die Einstellung \samp{this is the default help file}. Nun können Sie in \codeblocks in einer geöffneten Quelldatei eine Funktion mit der Maus durch Doppelklick markieren und anschließend die Hilfe mit F1 aufrufen und erhalten die zugehörige Dokumentation.

Wenn Sie mehrere Hilfedateien einbinden, können Sie im Editor einen Begriff markieren und anschließend über das Kontextmenü \menu{Locate in} die Hilfedatei auswählen, in der \codeblocks suchen soll.

\screenshot{help_files}{Einstellungen für Hilfe}

Neben chm Dateien können andere Hilfe eingebunden werden, wie zum Beispiel eine Google Suche eines Begriffes (siehe \pxref{fig:help_files}). Dabei steht im Eintrag \codeline{$(keyword)} als Platzhalter für einen Begriff der im Editor markiert wird. Ein Aufruf des Kontextmenü \menu{Locate in} im Editor führt die Google Suche durch. In \codeblocks werden auch die Hilfe mit man pages unterstützt. Hier fügen Sie einen neuen Eintrag \menu{man} ein und geben den Pfad wie folgt an.

\begin{cmd}
man:/usr/share/man
\end{cmd}

\codeblocks bietet auch einen \samp{Embedded HTML Viewer}, hiermit können  einfache HTML-Dateien in \codeblocks angezeigt und für Suchen genutzt werden. Konfigurieren Sie einfach den Pfad der HTML-Datei, die durchsucht werden soll und aktivieren Sie die Option \menu{Open this file with embedded help viewer} in dem Menü \menu{Settings,Environment,Help Files}.

\hint{Sie können auch im Editor einen Begriff mit gedrückter Ctrl Taste markieren und dann über das Kontextmenü nach diesem Begriff z.B. in Goolge suchen.}
% \section{Scripting}
%
% \codeblocks in Console Modus - Scripts

\subsection{Einbinden von externen Werkzeugen}

Die Einbindung von externen Tools ist in \codeblocks unter dem Menüeintrag \menu{Tools,Configure Tools,Add} vorgesehen. Für die Übergabeparameter der Tools kann auch auf Built-in Variables (see \pxref{sec:builtin_variables}) zugegriffen werden. Des weiteren existieren für das Starten von externen Anwendungen unterschiedliche Arten (Launching options). Je nach Option werden die extern gestarteten Anwendung beim Beenden von \codeblocks gestoppt. Falls die Anwendungen auch beim Beenden von \codeblocks geöffnet bleiben sollen, ist die Option \menu{Launch tool visible detached} einzustellen.

\section{Tips zum Arbeiten mit \codeblocks}

In diesem Kapitel werden Ihnen einige nützliche Einstellungen in \codeblocks vorgestellt.

\subsection{Konfiguration von Umgebungsvariablen}

Die Konfiguration für ein Betriebssystem wird durch sogenannte Umgebungsvariablen festgelegt. Zum Beispiel enthält die Umgebungsvariablen \codeline{PATH} den Pfad auf einen installierten Compiler. Das Betriebssystem geht diese Umgebungsvariable von vorne nach hinten durch, d.h. die Einträge am Ende werden als letztes durchsucht. Wenn nun unterschiedliche Versionen eines Compilers oder anderer Anwendungen installiert sind, können nun folgende Situationen auftreten:

\begin{itemize}
\item Die falsche Version einer Software wird aufgrufen
\item Installierte Softwarepakete stören sich gegenseitig
\end{itemize}

Es könnte zum Beispiel notwendig sein, dass für unterschiedliche Projekte unterschiedliche Versionen eines Compilers oder anderer Werkzeugen vorgeschrieben sind. Eine Möglichkeit ist die Umgebungsvariablen in der Systemsteuerung jeweils für ein Projekt zu ändern. Diese Vorgehensweise ist jedoch fehleranfällig und nicht flexibel. Für diese Anforderung bietet \codeblocks eine elegante Lösung. Es lassen sich hier unterschiedliche Konfigurationen von Umgebungsvariablen erstellen, die nur intern in \codeblocks verwendet werden. Zusätzlich kann zwischen diesen Konfiguration umgeschaltet werden. Die \pxref{fig:env_variables} zeigt den Eingabedialog, den Sie über das Menü \menu{Settings,Environment} und Auswahl von \samp{Environment Varibales} erhalten. Eine Konfiguration wird über die Schaltfläche \samp{Create} erzeugt. Die Übernahme der hinzugefügten Umgebungsvariablen erfolgt durch Bestätigen des OK Knopfes. Das Aktivieren einer Konfiguration erfolgt über den Knopf Set Now.

\screenshot{env_variables}{Umgebungsvariablen}

Der Zugriff und der Gültigkeitkeitbereich auf die hier erstellten Umgebungsvariablen ist auf \codeblocks begrenzt. Sie können diese Umgebungsvariablen wie auch andere \codeblocks Variablen über \codeline{$(NAME)} expandieren.

\hint{Eine Konfiguration von Umgebungsvariable lässt sich pro Projekt im Kontextmenü \menu{Properties} im Reiter \samp{EnvVars options} selektieren.}

\genterm{Beispiel}

Sie können die verwendete Umgebung in einem postbuild Step (siehe \pxref{sec:pre_postbuild}) in einer Datei \file{\var{project}.env} schreiben und zu Ihrem Projekt archivieren.

\begin{cmd}
cmd /c echo \%PATH\%  > project.env
\end{cmd}

oder unter Linux

\begin{cmd}
echo \$PATH > project.env
\end{cmd}

\subsection{Umschalten zwischen Projekten}

Wenn mehrere Projekte oder Dateien gleichzeitig geöffnet sind, so will der Benutzer häufig zwischen den Projekten und Dateien schnell wechseln können. \codeblocks stellt hierfür eine Reihe an Shortcuts zur Verfügung.

\begin{description}
\item[Alt-F5] Aktiviert vorheriges Projekt aus der Projektansicht.
\item[Alt-F6] Aktiviert nachfolgendes Projekt aus der Projektansicht.
\item[F11] Wechselt im Editor zwischen einer Quelldatei \file{\var{name}.cpp} und der zugehörigen Header Datei \file{\var{name}.h}
\end{description}

\subsection{Erweitere Einstellung für Compiler}

Beim Buildprozess eines Projektes werden die Ausgaben des Compilers in Fenster Messages im Reiter Build Log ausgegeben. Wenn Sie an detaillierten Information interessiert sind, kann die Ausgabe erweitert werden. Dazu wählen Sie unter \menu{Settings,Compiler and Debugger} im Reiter \samp{Other Settings}.

\screenshot{compiler_debugger}{Einstellung von Detailinformationen}

Achten Sie darauf, dass beim Eintrag Selected Compiler der gewünschte Compiler eingestellt ist. Die Einstellung \samp{Full command line} im Feld Compiler Logging gibt die vollständige Information im Build Log aus. Zusätzlich kann diese Ausgabe in eine HTML-Datei geloggt werden. Hierzu ist die Einstellung \samp{Save build log to HTML file when finished} erforderlich.
Des weiteren bietet \codeblocks eine Fortschrittsanzeige des Buildprozesses im Fenster Build Log. Diese aktivieren Sie mit dem Einstellung \samp{Display build progress bar}.

\subsection{Zoom im Editor}

\codeblocks bietet einen sehr leistungsfähigen Editor. Eine Besonderheit ist, dass Sie innerhalb einer geöffneten Datei die Darstellung vergrößern und verkleinern können. Wenn Sie eine Maus mit einem Scrollrad haben, halten Sie einfach die Ctrl-Taste gedrückt und scrollen im Editor über das Rad nach vorne oder hinten.

\hint{Mit dem Tastenkürzel Ctrl-Numepad-/ oder mit \menu{Edit,Special commands,Zoom,Reset} können Sie auf die ursprüngliche Schriftgröße umschalten.}

\subsection{Block select Mode im Editor}

\codeblocks unterstützt im Editor einen sogenannten Block select mode. Hiermit können bei gedrückter \samp{ALT} Taste ein Rechteck mit der linken Maustaste aufziehen und kopieren bzw. einfügen. Dies ist zum Beispiel nützlich, wenn nur einige Spalten eines Array markiert und kopiert werden sollen.

\hint{Beachten Sie, dass die meisten Linux Fenstermanager diese Tastenkombination für das Verschieben von Fenster vordefinieren. Deshalb muss dieses Verhalten des Fenstermanager geändert werden, damit der Block select mode unter Linux funktioniert.}

\subsection{Code folding}

\codeblocks unterstützt ein sogenanntes Folding für Quellen. Hiermit lassen sich zum Beispiel Funktionen zusammenklappen. Ein Folding Punkt erkennen Sie im Editor als Minussymbol im linken Seitenrand. Hier wird auch der Beginn und das Ende eines Folding Punktes durch eine vertikale Linie gekennzeichnet. Wenn Sie mit der linken Maustaste auf das Minussymbol klicken wir der entsprechende Abschnitt eingekappt bzw. ausgeklappt. Sie können über das Menu \menu{Edit,Folding} einstellen wie eingeklappt werden soll. Im Editor wird ein eingeklappte Codestelle durch eine durchgehende horizontale Linie dargestellt.

\hint{Der Stil für das Folding kann im Menü \menu{Settings,Editor,Folding} geändert werden.}

Neben dem Folding für Funktionen kann die Funktionalität auch für Präprozessor Direktiven eingestellt werden. Aktivieren Sie hierfür die Option \samp{Fold preprocessor commands} im Menü
\menu{Settings,Editor} unter dem Eintrag Folding.

Eine weitere Möglichkeit ist benutzerdefinierte Folding Punkte zu definieren, indem ein Kommentarzeichen durch eine geöffnete Klammer den Anfang und ein Kommentar mit schließender Klammer das Ende markiert.

\begin{code}
//{
code with user defined folding
//}
\end{code}

\subsection{Auto complete}

\codeblocks parst beim Öffnen eines Projektes die \samp{Search directories} die für einen Compiler oder Projekt eingestellt wurden und die im Projekt befindlichen Quellen und Header. Des weiteren werden auch die Keywords der zugehörigen Lexerdateien geparst. Die aus dem Parsen gewonne Information über Symbole kann für die sogenannte Auto completion genutzt werden, wenn diese in den Einstellungen des Editors für \codeblocks aktiviert ist. Die Auto completion können Sie im Editor über das Tastenkürzel Ctrl-Space ausführen. Im Menü \menu{Settings,Editor,Syntax highlighting} können eigene keywords zum Lexer hinzugefügt werden.

\subsection{Einbinden von Bibliotheken}

In den Builtoption eines Projektes können Sie unter \samp{Linker Settings} im Eintrag \samp{Link libraries} über die Schaltfläche \samp{Add} verwendete Bibliotheken hinzufügen. Dabei können Sie entweder den absoluten Pfad zur Bibliothek durchsuchen oder nur den Namen ohne den Prefix \file{lib} und die Dateiendung angeben.

\genterm{Beispiel}

Für eine Bibliothek \file{\var{path}\osp libs\osp lib\var{name}.a} geben Sie einfach \file{\var{name}} an. Der Linker mit den jeweiligen Suchpfaden für die Bibliotheken bindet diese dann korrekt ein.

\subsection{Linkreihenfolge von Objekten}

Beim Compilierung werden aus Quellen \file{name.c/cpp} werden Objekte \file{name.o} erzeugt. Der Linker bindet die einzelnen Objekten zu einer Anwendung \file{name.exe} oder für den Embedded Bereiche \file{name.elf}. In einigen Fällen ist es wünschenswert die Reihenfolge für das Binden von Objekten vorzugeben. In \codeblocks kann dies durch die Vergabe von sogenannten Prioritäten erzielt werden. Stellen Sie für eine Datei über das Kontextmenü \menu{Properties} im Reiter Build die Priorität ein. Dabei führt eine geringe Priorität des Objekts dazu, dass es zu erst gebunden wird.

\subsection{Autosave}

\codeblocks bietet die Möglichkeit Projekte und Quelldateien automatisch zu speichern bzw. eine Sicherungskopie anzulegen. Diese Funktionalität wird im Menü \menu{Settings,Environment,Autosave} eingestellt. Dabei sollte als \samp{Save to .save file} als Methode für das Erstellen einer Sicherungskopie eingestellt werden.

\subsection{Einstellen für Dateizuordnungen}\label{sec:file_extension}

In \codeblocks können Sie zwischen verschiedenen Arten der Behandlung von Dateiendungen wählen.  Die Einstellungen erhalten Sie über \menu{Settings,Files extension handling}.
Sie können entweder die von Windows zugeordneten Anwendungen (open it with the associated application) für entsprechende Dateiendungen verwenden oder für jede Dateiendungen die Einstellungen so ändern, dass entweder ein benutzerdefiniertes Programm (launch an external program) gestartet wird oder die Datei in Editor von \codeblocks geöffnet wird (open it inside Code::Blocks editor).

\hint{Wenn ein benutzerdefiniertes Programm für eine Dateiendung gewählt wird, sollte die Einstellung \samp{Disable Code::Blocks while the external programm is running} deaktiviert werden, da sonst beim Öffnen dieser Dateien \codeblocks beendet wird.}

\section{\codeblocks in der Kommandozeile}

Die IDE \codeblocks kann auch ohne grafische Oberfläche in der Kommandozeile ausgeführt werden. Dabei stehen unterschiedliche Schalter zur Verfügung um den Buildprozess eines Projektes zu steuern. Da \codeblocks somit skriptfähig ist, kann die Erzeugung von Exectutables in eigene Arbeitsabläufe integriert werden.

\begin{cmd}
codeblocks.exe /na /nd --no-splash-screen --built <name>.cbp --target='Release'
\end{cmd}

\begin{optentry}
\item[\var{filename}] Specifies the project \file{*.cbp} filename or workspace \file{*.workspace} filename. For instance, \var{filename} may be \file{project.cbp}. Place this argument at the end of the command line, just before the output redirection if there is any.
\item[/h, --help] Shows a help message regarding the command line arguments.
\item[/na, --no-check-associations] Don't perform any file association checks (Windows only).
\item[/nd, --no-dde] Don't start a DDE server (Windows only).
\item[/ns, --no-splash-screen] Hides the splash screen while the application is loading.
\item[/d, --debug-log] Display the debug log of the application.
\item[--prefix=\var{str}] Sets the shared data directory prefix.
\item[/p, --personality=\var{str}, --profile=\var{str}] Sets the personality to use. You can use ask as the parameter to list all available personalities.
\item[--rebuild] Clean and build the project or workspace.
\item[--build] Build the project or workspace.
\item[--target=\var{str}] Sets target for batch build. For example \cmdline{--target='Release'}.
\item[--no-batch-window-close] Keeps the batch log window visible after the batch build is completed.
\item[--batch-build-notify] Shows a message after the batch build is completed.
\item[--safe-mode] Alle Plugins werden beim Start deaktiviert.
\item[$>$ \var{build log file}] Placed in the very last position of the command line, this may be used to redirect standard output to log file. This is not a codeblock option as such, but just a standard DOS/*nix shell output redirection.
\end{optentry}

\section{Shortcuts}

Auch wenn man eine IDE wie \codeblocks überwiegend mit der Maus bedient, erweisen sich dennoch Tastenkombinationen immer wieder als hilfreich, um die Arbeit zu vereinfachen und zu beschleunigen. In nachstehender Tabelle sind einige verfügbare Tastenkombinationen zusammengefasst.

\subsection{Editor}

\begin{tabular}{|l|l|}\hline
Function		&	Shortcut Key\\ \hline
Undo last action 	&	Ctrl-Z\\ \hline
Redo last action 	&	Ctrl-Shift-Z\\ \hline
Swap header / source 	&	F11\\ \hline
Comment highlighted code &	Ctrl-Shift-C\\ \hline
Uncomment highlighted code & 	Ctrl-Shift-X\\ \hline
Auto-complete / Abbreviations & 	Ctrl-Space/Ctrl-J\\ \hline
Toggle bookmark 	&	Ctrl-B\\ \hline
Goto previous bookmark 	&	Alt-PgUp\\ \hline
Goto next bookmark 	&	Alt-PgDown\\ \hline
\end{tabular}

This is a list of shortcuts provided by the \codeblocks editor component. These shortcuts cannot be rebound.

\begin{tabular}{|l|l|}\hline
Create or delete a bookmark	&	Ctrl-F2\\ \hline
Go to next bookmark		&	F2\\ \hline
Select to next bookmark		&	Alt-F2\\ \hline
Find selection.			& 	Ctrl-F3\\ \hline
Find selection backwards. 	&	Ctrl-Shift-F3\\ \hline
Find matching preprocessor conditional, skipping nested ones. &	Ctrl-K\\ \hline
\end{tabular}

\subsection{Files}

\begin{tabular}{|l|l|}\hline
Function 		&	Shortcut Key\\ \hline
New file or project 	&	Ctrl-N\\ \hline
Open existing file or project &	Ctrl-O\\ \hline
Save current file 	&	Ctrl-S\\ \hline
Save all files 		&	Ctrl-Shift-S\\ \hline
Close current file 	&	Ctrl-F4/Ctrl-W\\ \hline
Close all files 	&	Ctrl-Shift-F4/Ctrl-Shift-W\\ \hline
\end{tabular}

\subsection{View}

\begin{tabular}{|l|l|}\hline
Function 		&	Shortcut Key\\ \hline
Show / hide Messages pane	&	F2\\ \hline
Show / hide Management pane 	&	Shift-F2\\ \hline
Activate prior (in Project tree) & 	Alt-F5\\ \hline
Activate next (in Project tree)  &	Alt-F6\\ \hline
\end{tabular}

\subsection{Search}

\begin{tabular}{|l|l|}\hline
Function 	&	Shortcut Key\\ \hline
Find 		&	Ctrl-F\\ \hline
Find next 	&	F3\\ \hline
Find previous 	&	Shift-F3\\ \hline
Find in files 	&	Crtl-Shift-F\\ \hline
Replace 	&	Ctrl-R\\ \hline
Replace in files &	Ctrl-Shift-R\\ \hline
Goto line 	&	Ctrl-G\\ \hline
Goto file 	&	Alt-G\\ \hline
Goto function 	&	Ctrl-Alt-G\\ \hline
\end{tabular}

\subsection{Build}

\begin{tabular}{|l|l|}\hline
Function 	&	Shortcut Key\\ \hline
Build 		&	Ctrl-F9\\ \hline
Compile current file	&	Ctrl-Shift-F9\\ \hline
Run		&	Ctrl-F10\\ \hline
Build and Run 	&	F9\\ \hline
Rebuild 	&	Ctrl-F11\\ \hline
\end{tabular}






